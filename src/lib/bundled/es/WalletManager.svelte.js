function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function l(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function c(t,e,n,o){if(t){const r=d(t,e,n,o);return t[0](r)}}function d(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function u(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function w(t,e,n,o,r,i){if(r){const s=d(e,n,o,i);t.p(s,r)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){return null==t?"":t}const f="undefined"!=typeof window;let g=f?()=>window.performance.now():()=>Date.now(),m=f?t=>requestAnimationFrame(t):t;const v=new Set;function b(t){v.forEach((e=>{e.c(t)||(v.delete(e),e.f())})),0!==v.size&&m(b)}function y(t,e){t.appendChild(e)}function x(t,e,n){const o=k(t);if(!o.getElementById(e)){const t=S("style");t.id=e,t.textContent=n,q(o,t)}}function k(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $(t){const e=S("style");return q(k(t),e),e.sheet}function q(t,e){return y(t.head||t,e),e.sheet}function j(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function S(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function L(){return C(" ")}function z(){return C("")}function P(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function R(t,e){t.value=null==e?"":e}function A(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let M;function N(){if(void 0===M){M=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){M=!0}}return M}function D(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=S("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=N();let r;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=P(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=P(n.contentWindow,"resize",e)}),y(t,n),()=>{(o||r&&n.contentWindow)&&r(),E(n)}}function I(t,e,n){t.classList[n?"add":"remove"](e)}function U(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}function H(t,e){return new t(e)}const O=new Map;let B,T=0;function W(t,e,n,o,r,i,s,a=0){const l=16.666/o;let c="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*i(t);c+=100*t+`%{${s(o,1-o)}}\n`}const d=c+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${a}`,w=k(t),{stylesheet:p,rules:h}=O.get(w)||function(t,e){const n={stylesheet:$(e),rules:{}};return O.set(t,n),n}(w,t);h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const f=t.style.animation||"";return t.style.animation=`${f?`${f}, `:""}${u} ${o}ms linear ${r}ms 1 both`,T+=1,u}function F(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),T-=r,T||m((()=>{T||(O.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&E(e)})),O.clear())})))}function V(t){B=t}function K(){if(!B)throw new Error("Function called outside component initialization");return B}function Y(t){K().$$.on_mount.push(t)}function J(){const t=K();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const i=U(e,n,{cancelable:o});return r.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}function X(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const G=[],Z=[],Q=[],tt=[],et=Promise.resolve();let nt=!1;function ot(t){Q.push(t)}const rt=new Set;let it,st=0;function at(){const t=B;do{for(;st<G.length;){const t=G[st];st++,V(t),lt(t.$$)}for(V(null),G.length=0,st=0;Z.length;)Z.pop()();for(let t=0;t<Q.length;t+=1){const e=Q[t];rt.has(e)||(rt.add(e),e())}Q.length=0}while(G.length);for(;tt.length;)tt.pop()();nt=!1,rt.clear(),V(t)}function lt(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function ct(t,e,n){t.dispatchEvent(U(`${e?"intro":"outro"}${n}`))}const dt=new Set;let ut;function wt(){ut={r:0,c:[],p:ut}}function pt(){ut.r||r(ut.c),ut=ut.p}function ht(t,e){t&&t.i&&(dt.delete(t),t.i(e))}function ft(t,e,n,o){if(t&&t.o){if(dt.has(t))return;dt.add(t),ut.c.push((()=>{dt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const gt={duration:0};function mt(n,o,s,a){let l=o(n,s),c=a?0:1,d=null,u=null,w=null;function p(){w&&F(n,w)}function h(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function f(o){const{delay:i=0,duration:s=300,easing:a=e,tick:f=t,css:y}=l||gt,x={start:g()+i,b:o};o||(x.group=ut,ut.r+=1),d||u?u=x:(y&&(p(),w=W(n,c,o,s,i,a,y)),o&&f(0,1),d=h(x,s),ot((()=>ct(n,o,"start"))),function(t){let e;0===v.size&&m(b),new Promise((n=>{v.add(e={c:t,f:n})}))}((t=>{if(u&&t>u.start&&(d=h(u,s),u=null,ct(n,d.b,"start"),y&&(p(),w=W(n,c,d.b,d.duration,0,a,l.css))),d)if(t>=d.end)f(c=d.b,1-c),ct(n,d.b,"end"),u||(d.b?p():--d.group.r||r(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;c=d.a+d.d*a(e/d.duration),f(c,1-c)}return!(!d&&!u)})))}return{run(t){i(l)?(it||(it=Promise.resolve(),it.then((()=>{it=null}))),it).then((()=>{l=l(),f(t)})):f(t)},end(){p(),d=u=null}}}const vt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function bt(t){t&&t.c()}function yt(t,e,o,s){const{fragment:a,after_update:l}=t.$$;a&&a.m(e,o),s||ot((()=>{const e=t.$$.on_mount.map(n).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(ot)}function xt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(t,e){-1===t.$$.dirty[0]&&(G.push(t),nt||(nt=!0,et.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $t(e,n,i,s,a,l,c,d=[-1]){const u=B;V(e);const w=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||u.$$.root};c&&c(w.root);let p=!1;if(w.ctx=i?i(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return w.ctx&&a(w.ctx[t],w.ctx[t]=r)&&(!w.skip_bound&&w.bound[t]&&w.bound[t](r),p&&kt(e,t)),n})):[],w.update(),p=!0,r(w.before_update),w.fragment=!!s&&s(w.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);w.fragment&&w.fragment.l(t),t.forEach(E)}else w.fragment&&w.fragment.c();n.intro&&ht(e.$$.fragment),yt(e,n.target,n.anchor,n.customElement),at()}V(u)}class qt{$destroy(){xt(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function jt(t){x(t,"svelte-177p799",".svelte-177p799,.svelte-177p799::before,.svelte-177p799::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.svelte-177p799::before,.svelte-177p799::after{--tw-content:''}.svelte-177p799:-moz-focusring{outline:auto}.svelte-177p799:-moz-ui-invalid{box-shadow:none}.svelte-177p799::-webkit-inner-spin-button,.svelte-177p799::-webkit-outer-spin-button{height:auto}.svelte-177p799::-webkit-search-decoration{-webkit-appearance:none}.svelte-177p799::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.svelte-177p799:disabled{cursor:default}.svelte-177p799,.svelte-177p799::before,.svelte-177p799::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-177p799::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }@media(min-width: 640px){}@media(min-width: 768px){}@media(min-width: 1024px){}@media(min-width: 1280px){}@media(min-width: 1536px){}.m-0.svelte-177p799{margin:0px}@media(min-width: 640px){}")}const Et=t=>({wallet:1&t,ownerAddress:16&t,RSAPublicKey:4&t,Ed25519PublicKey:8&t}),St=t=>({wallet:t[0],ownerAddress:t[4],RSAPublicKey:t[2],Ed25519PublicKey:t[3]});function Ct(t){let e,n,o,r;var i=t[1];i&&(e=H(i,{}),e.$on("walletReady",t[5]));let s=t[0]&&t[2]&&t[3]&&Lt(t);return{c(){e&&bt(e.$$.fragment),n=L(),s&&s.c(),o=z()},m(t,i){e&&yt(e,t,i),j(t,n,i),s&&s.m(t,i),j(t,o,i),r=!0},p(t,r){if(i!==(i=t[1])){if(e){wt();const t=e;ft(t.$$.fragment,1,0,(()=>{xt(t,1)})),pt()}i?(e=H(i,{}),e.$on("walletReady",t[5]),bt(e.$$.fragment),ht(e.$$.fragment,1),yt(e,n.parentNode,n)):e=null}t[0]&&t[2]&&t[3]?s?(s.p(t,r),13&r&&ht(s,1)):(s=Lt(t),s.c(),ht(s,1),s.m(o.parentNode,o)):s&&(wt(),ft(s,1,1,(()=>{s=null})),pt())},i(t){r||(e&&ht(e.$$.fragment,t),ht(s),r=!0)},o(t){e&&ft(e.$$.fragment,t),ft(s),r=!1},d(t){e&&xt(e,t),t&&E(n),s&&s.d(t),t&&E(o)}}}function Lt(t){let e;const n=t[7].default,o=c(n,t,t[6],St);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,r){o&&o.p&&(!e||93&r)&&w(o,n,t,t[6],e?u(n,t[6],r,Et):p(t[6]),St)},i(t){e||(ht(o,t),e=!0)},o(t){ft(o,t),e=!1},d(t){o&&o.d(t)}}}function zt(t){let e,n,o=t[1]&&Ct(t);return{c(){e=S("section"),o&&o.c(),_(e,"class","m-0 svelte-177p799")},m(t,r){j(t,e,r),o&&o.m(e,null),n=!0},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&ht(o,1)):(o=Ct(t),o.c(),ht(o,1),o.m(e,null)):o&&(wt(),ft(o,1,1,(()=>{o=null})),pt())},i(t){n||(ht(o),n=!0)},o(t){ft(o),n=!1},d(t){t&&E(e),o&&o.d()}}}function Pt(t,e,n){let o,r,i,s,a,{$$slots:l={},$$scope:c}=e;const d=J();return Y((async()=>{n(1,r=await Promise.resolve().then((function(){return He})))})),t.$$set=t=>{"$$scope"in t&&n(6,c=t.$$scope)},[o,r,i,s,a,async function(t){n(0,o=t.detail.wallet),console.log("walletReady",o),n(4,a=await(o?.arweaveWalletAPI?.getActiveAddress())),n(2,i=await o.arweaveWalletAPI.getActivePublicKey()),n(3,s=await o.proxcryptor.getPublicKey()),d("RSAPublicKey",i),d("Ed25519PublicKey",s),d("ownerAddress",a)},c,l]}class _t extends qt{constructor(t){super(),$t(this,t,Pt,zt,s,{},jt)}}function Rt(t,e,n,o){var r,i=null==(r=o)||"number"==typeof r||"boolean"==typeof r?o:n(o),s=e.get(i);return void 0===s&&(s=t.call(this,o),e.set(i,s)),s}function At(t,e,n){var o=Array.prototype.slice.call(arguments,3),r=n(o),i=e.get(r);return void 0===i&&(i=t.apply(this,o),e.set(r,i)),i}const Mt=JSON.stringify;function Nt(){this.cache=Object.create(null)}Nt.prototype.has=function(t){return t in this.cache},Nt.prototype.get=function(t){return this.cache[t]},Nt.prototype.set=function(t,e){this.cache[t]=e};const Dt=(t,e={})=>{let{bounds:n,axis:o="both",gpuAcceleration:r=!0,applyUserSelectHack:i=!0,disabled:s=!1,ignoreMultitouch:a=!1,grid:l,position:c,cancel:d,handle:u,defaultClass:w="neodrag",defaultClassDragging:p="neodrag-dragging",defaultClassDragged:h="neodrag-dragged",defaultPosition:f={x:0,y:0},onDragStart:g,onDrag:m,onDragEnd:v}=e;const b=new Promise(requestAnimationFrame);let y,x,k=!1,$=0,q=0,j=0,E=0,S=0,C=0,{x:L,y:z}=c?{x:c?.x??0,y:c?.y??0}:f;Wt(L,z,t,r);let P,_,R,A,M="",N=!!c;const D=document.body.style,I=t.classList,U=(e,n)=>{const o={offsetX:$,offsetY:q,domRect:t.getBoundingClientRect()};t.dispatchEvent(new CustomEvent(e,{detail:o})),n?.(o)},H=addEventListener;H("touchstart",B,!1),H("touchend",T,!1),H("touchmove",W,!1),H("mousedown",B,!1),H("mouseup",T,!1),H("mousemove",W,!1),t.style.touchAction="none";const O=()=>{let e=t.offsetWidth/_.width;return isNaN(e)&&(e=1),e};function B(e){if(s)return;if(a&&"touchstart"===e.type&&e.touches.length>1)return;if(I.add(w),R=function(t,e){if(!t)return e;if(t instanceof HTMLElement||Array.isArray(t))return t;const n=e.querySelectorAll(t);if(null===n)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(n.values())}(u,t),A=function(t,e){if(!t)return;if(t instanceof HTMLElement||Array.isArray(t))return t;const n=e.querySelectorAll(t);if(null===n)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(n.values())}(d,t),y=/(both|x)/.test(o),x=/(both|y)/.test(o),void 0!==n&&(P=function(t,e){if(t instanceof HTMLElement)return t.getBoundingClientRect();if("object"==typeof t){const{top:e=0,left:n=0,right:o=0,bottom:r=0}=t;return{top:e,right:window.innerWidth-o,bottom:window.innerHeight-r,left:n}}if("parent"===t)return e.parentNode.getBoundingClientRect();const n=document.querySelector(t);if(null===n)throw new Error("The selector provided for bound doesn't exists in the document.");return n.getBoundingClientRect()}(n,t)),_=t.getBoundingClientRect(),Ht(u)&&Ht(d)&&u===d)throw new Error("`handle` selector can't be same as `cancel` selector");if(Tt(A,R))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");if((R instanceof HTMLElement?R.contains(e.target):R.some((t=>t.contains(e.target))))&&!Tt(A,e.target)&&(k=!0),!k)return;i&&(M=D.userSelect,D.userSelect="none"),U("neodrag:start",g);const{clientX:r,clientY:l}=It(e)?e.touches[0]:e,c=O();y&&(j=r-L/c),x&&(E=l-z/c),P&&(S=r-_.left,C=l-_.top)}function T(){k&&(I.remove(p),I.add(h),i&&(D.userSelect=M),U("neodrag:end",v),y&&(j=$),y&&(E=q),k=!1)}function W(e){if(!k)return;I.add(p),e.preventDefault(),_=t.getBoundingClientRect();const{clientX:n,clientY:o}=It(e)?e.touches[0]:e;let i=n,s=o;const a=O();if(P){const t={left:P.left+S,top:P.top+C,right:P.right+S-_.width,bottom:P.bottom+C-_.height};i=Ut(i,t.left,t.right),s=Ut(s,t.top,t.bottom)}if(Array.isArray(l)){let[t,e]=l;if(isNaN(+t)||t<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+e)||e<0)throw new Error("2nd argument of `grid` must be a valid positive number");let n=i-j,o=s-E;[n,o]=Ot([t/a,e/a],n,o),i=j+n,s=E+o}y&&($=Math.round((i-j)*a)),x&&(q=Math.round((s-E)*a)),L=$,z=q,U("neodrag",m),b.then((()=>Wt($,q,t,r)))}return{destroy:()=>{const t=removeEventListener;t("touchstart",B,!1),t("touchend",T,!1),t("touchmove",W,!1),t("mousedown",B,!1),t("mouseup",T,!1),t("mousemove",W,!1)},update:e=>{o=e.axis||"both",s=e.disabled??!1,a=e.ignoreMultitouch??!1,u=e.handle,n=e.bounds,d=e.cancel,i=e.applyUserSelectHack??!0,l=e.grid,r=e.gpuAcceleration??!0;const c=I.contains(h);I.remove(w,h),w=e.defaultClass??"neodrag",p=e.defaultClassDragging??"neodrag-dragging",h=e.defaultClassDragged??"neodrag-dragged",I.add(w),c&&I.add(h),N&&(L=$=e.position?.x??$,z=q=e.position?.y??q,b.then((()=>Wt($,q,t,r))))}}},It=t=>!!t.touches?.length,Ut=(t,e,n)=>Math.min(Math.max(t,e),n),Ht=t=>"string"==typeof t,Ot=(Bt=([t,e],n,o)=>{const r=(t,e)=>Math.ceil(t/e)*e;return[r(n,t),r(o,e)]},function(t,e){return function(t,e,n,o,r){return n.bind(e,t,o,r)}(t,this,1===t.length?Rt:At,e.cache.create(),e.serializer)}(Bt,{cache:{create:function(){return new Nt}},serializer:Mt}));var Bt;function Tt(t,e){const n=e instanceof HTMLElement?[e]:e;return t instanceof HTMLElement?n.some((e=>t.contains(e))):!!Array.isArray(t)&&t.some((t=>n.some((e=>t.contains(e)))))}function Wt(t,e,n,o){n.style.transform=o?`translate3d(${+t}px, ${+e}px, 0)`:`translate(${+t}px, ${+e}px)`}function Ft(t){x(t,"svelte-189qcdl","svg.svelte-189qcdl{width:auto;height:2em;display:block}")}function Vt(e){let n;return{c(){n=S("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1440 1440" width="100" height="100" class="svelte-189qcdl"><defs></defs><defs><path id="a" d="M258 1321c9-304 6-917 0-1191 52-161 1082-280 1083 330 1 609-618 545-701 538-2 67-2 208 0 422-222 56-349 23-382-99z"></path><path id="c" d="M1122 560c-107 223-284 293-529 209l-38 79c-1 2-4 2-5-1l-99-287c-1-5 1-11 6-13l273-106c3-1 6 2 5 5l-36 75c70 126 211 139 423 39z"></path><path id="d" d="M451 447c107-223 284-292 529-209l38-78c1-3 5-2 5 0l99 288c1 5-1 10-6 12L843 567c-3 1-6-3-5-6l37-75c-71-126-212-139-424-39z"></path><radialGradient id="b" cx="992.3" cy="174.2" r="1312.8" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#69ed66"></stop><stop offset="100%" stop-color="#279c19"></stop></radialGradient></defs><use fill="url(#b)" xlink:href="#a"></use><use fill="#fff" xlink:href="#c"></use><use fill="#fff" xlink:href="#d"></use></svg>'},m(t,e){j(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}class Kt extends qt{constructor(t){super(),$t(this,t,null,Vt,s,{},Ft)}}function Yt(t){x(t,"svelte-1q1h4lu",".svelte-1q1h4lu.svelte-1q1h4lu,.svelte-1q1h4lu.svelte-1q1h4lu::before,.svelte-1q1h4lu.svelte-1q1h4lu::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.svelte-1q1h4lu.svelte-1q1h4lu::before,.svelte-1q1h4lu.svelte-1q1h4lu::after{--tw-content:''}.svelte-1q1h4lu.svelte-1q1h4lu:-moz-focusring{outline:auto}.svelte-1q1h4lu.svelte-1q1h4lu:-moz-ui-invalid{box-shadow:none}.svelte-1q1h4lu.svelte-1q1h4lu::-webkit-inner-spin-button,.svelte-1q1h4lu.svelte-1q1h4lu::-webkit-outer-spin-button{height:auto}.svelte-1q1h4lu.svelte-1q1h4lu::-webkit-search-decoration{-webkit-appearance:none}.svelte-1q1h4lu.svelte-1q1h4lu::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.svelte-1q1h4lu.svelte-1q1h4lu:disabled{cursor:default}.svelte-1q1h4lu.svelte-1q1h4lu,.svelte-1q1h4lu.svelte-1q1h4lu::before,.svelte-1q1h4lu.svelte-1q1h4lu::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-1q1h4lu.svelte-1q1h4lu::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.container.svelte-1q1h4lu.svelte-1q1h4lu{width:100%}@media(min-width: 640px){.container.svelte-1q1h4lu.svelte-1q1h4lu{max-width:640px}}@media(min-width: 768px){.container.svelte-1q1h4lu.svelte-1q1h4lu{max-width:768px}}@media(min-width: 1024px){.container.svelte-1q1h4lu.svelte-1q1h4lu{max-width:1024px}}@media(min-width: 1280px){.container.svelte-1q1h4lu.svelte-1q1h4lu{max-width:1280px}}@media(min-width: 1536px){.container.svelte-1q1h4lu.svelte-1q1h4lu{max-width:1536px}}.w-screen.svelte-1q1h4lu.svelte-1q1h4lu{width:100vw}.container.svelte-1q1h4lu.svelte-1q1h4lu{display:flex;align-items:center;position:absolute;top:0px;right:0px;z-index:50;cursor:pointer;margin:1em;opacity:0.95;width:auto}.menu-icon.svelte-1q1h4lu.svelte-1q1h4lu{display:inline-block}.bar1.svelte-1q1h4lu.svelte-1q1h4lu,.bar2.svelte-1q1h4lu.svelte-1q1h4lu,.bar3.svelte-1q1h4lu.svelte-1q1h4lu{width:35px;height:5px;background-color:#0bb113;margin:6px 0;transition:0.4s}.change.svelte-1q1h4lu .bar1.svelte-1q1h4lu{transform:rotate(-45deg) translate(-9px, 6px)}.change.svelte-1q1h4lu .bar2.svelte-1q1h4lu{opacity:0}.change.svelte-1q1h4lu .bar3.svelte-1q1h4lu{transform:rotate(45deg) translate(-8px, -8px)}.sidenav.svelte-1q1h4lu.svelte-1q1h4lu{position:fixed;top:0;right:0;height:15%;width:0;z-index:40;background-color:#111;overflow-x:inherit;padding-top:30px;transition:0.25s}.open.svelte-1q1h4lu.svelte-1q1h4lu{width:80%;height:100%;overflow-x:scroll}.mask.svelte-1q1h4lu.svelte-1q1h4lu{height:100%;position:fixed;top:0;left:0;opacity:0.5;background-color:#444;transition:0.4s}@media screen and (max-height: 450px){.sidenav.svelte-1q1h4lu.svelte-1q1h4lu{padding-top:15px}}@media(min-width: 640px){}")}const Jt=t=>({saveInputURL:8&t,url:1&t}),Xt=t=>({openNav:t[7],hideNav:t[6],saveInputURL:t[3],url:t[0]});function Gt(t){let e,n;const o=t[9].default,r=c(o,t,t[8],Xt);return{c(){e=S("div"),r&&r.c(),_(e,"class","sidenav svelte-1q1h4lu"),I(e,"open",t[2])},m(t,o){j(t,e,o),r&&r.m(e,null),n=!0},p(t,i){r&&r.p&&(!n||265&i)&&w(r,o,t,t[8],n?u(o,t[8],i,Jt):p(t[8]),Xt),(!n||4&i)&&I(e,"open",t[2])},i(t){n||(ht(r,t),n=!0)},o(t){ft(r,t),n=!1},d(t){t&&E(e),r&&r.d(t)}}}function Zt(e){let n,o,s,a,l,c,d,u,w,p,h;o=new Kt({});let f=e[1]&&Gt(e);return{c(){n=S("div"),bt(o.$$.fragment),s=L(),a=S("div"),a.innerHTML='<div class="bar1 svelte-1q1h4lu"></div> \n\t\t<div class="bar2 svelte-1q1h4lu"></div> \n\t\t<div class="bar3 svelte-1q1h4lu"></div>',l=L(),c=S("div"),d=L(),f&&f.c(),u=z(),_(a,"class","menu-icon svelte-1q1h4lu"),_(n,"class","container svelte-1q1h4lu"),I(n,"change",e[2]),_(c,"class","w-screen svelte-1q1h4lu"),I(c,"mask",e[2])},m(r,g){var m;j(r,n,g),yt(o,n,null),y(n,s),y(n,a),j(r,l,g),j(r,c,g),j(r,d,g),f&&f.m(r,g),j(r,u,g),w=!0,p||(h=[P(n,"keypress",e[4]),P(n,"click",e[4]),(m=Dt.call(null,n),m&&i(m.destroy)?m.destroy:t),P(c,"keypress",e[5]),P(c,"click",e[5])],p=!0)},p(t,[e]){(!w||4&e)&&I(n,"change",t[2]),(!w||4&e)&&I(c,"mask",t[2]),t[1]?f?(f.p(t,e),2&e&&ht(f,1)):(f=Gt(t),f.c(),ht(f,1),f.m(u.parentNode,u)):f&&(wt(),ft(f,1,1,(()=>{f=null})),pt())},i(t){w||(ht(o.$$.fragment,t),ht(f),w=!0)},o(t){ft(o.$$.fragment,t),ft(f),w=!1},d(t){t&&E(n),xt(o),t&&E(l),t&&E(c),t&&E(d),f&&f.d(t),t&&E(u),p=!1,r(h)}}}function Qt(t,e,n){let o,r,i,{$$slots:s={},$$scope:a}=e,{inputUrl:l}=e;Y((async()=>{if(void 0===window.indexedDB)return void console.log("IndexedDB not available");const{ImmortalDB:t}=await Promise.resolve().then((function(){return sn}));n(3,i=async e=>{const n=e.detail;try{await t.set("INPUT_URL",n)}catch(t){console.warn("Did not save",n,t)}});try{const e=await t.get("INPUT_URL",null);e&&!l&&n(0,l=e)}catch(t){console.warn("Did not get",t)}n(1,o=!0)}));return t.$$set=t=>{"inputUrl"in t&&n(0,l=t.inputUrl),"$$scope"in t&&n(8,a=t.$$scope)},[l,o,r,i,function(){n(2,r=!r)},function(t){n(2,r=!1)},function(){n(2,r=!1)},()=>n(2,r=!0),a,s]}class te extends qt{constructor(t){super(),$t(this,t,Qt,Zt,s,{inputUrl:0},Yt)}}function ee(t,{delay:n=0,duration:o=400,easing:r=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*i}}var ne,oe,re,ie,se;!function(t){t.Call="call",t.Reply="reply",t.Syn="syn",t.SynAck="synAck",t.Ack="ack"}(ne||(ne={})),function(t){t.Fulfilled="fulfilled",t.Rejected="rejected"}(oe||(oe={})),function(t){t.ConnectionDestroyed="ConnectionDestroyed",t.ConnectionTimeout="ConnectionTimeout",t.NoIframeSrc="NoIframeSrc"}(re||(re={})),function(t){t.DataCloneError="DataCloneError"}(ie||(ie={})),function(t){t.Message="message"}(se||(se={}));const ae={"http:":"80","https:":"443"},le=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,ce=["file:","data:"];const de=({name:t,message:e,stack:n})=>({name:t,message:e,stack:n});let ue=0;var we=()=>++ue;const pe=t=>t?t.split("."):[],he=(t,e,n)=>{const o=pe(e);return o.reduce(((t,e,r)=>(void 0===t[e]&&(t[e]={}),r===o.length-1&&(t[e]=n),t[e])),t),t},fe=(t,e)=>{const n={};return Object.keys(t).forEach((o=>{const r=t[o],i=((t,e)=>{const n=pe(e||"");return n.push(t),(t=>t.join("."))(n)})(o,e);"object"==typeof r&&Object.assign(n,fe(r,i)),"function"==typeof r&&(n[i]=r)})),n};var ge=(t,e,n,o,r)=>{const{localName:i,local:s,remote:a,originForSending:l,originForReceiving:c}=e;let d=!1;r(`${i}: Connecting call sender`);const u=t=>(...e)=>{let n;r(`${i}: Sending ${t}() call`);try{a.closed&&(n=!0)}catch(t){n=!0}if(n&&o(),d){const e=new Error(`Unable to send ${t}() call due to destroyed connection`);throw e.code=re.ConnectionDestroyed,e}return new Promise(((n,o)=>{const d=we(),u=e=>{if(e.source!==a||e.data.penpal!==ne.Reply||e.data.id!==d)return;if("*"!==c&&e.origin!==c)return void r(`${i} received message from origin ${e.origin} which did not match expected origin ${c}`);const l=e.data;r(`${i}: Received ${t}() reply`),s.removeEventListener(se.Message,u);let w=l.returnValue;l.returnValueIsError&&(w=(t=>{const e=new Error;return Object.keys(t).forEach((n=>e[n]=t[n])),e})(w)),(l.resolution===oe.Fulfilled?n:o)(w)};s.addEventListener(se.Message,u);const w={penpal:ne.Call,id:d,methodName:t,args:e};a.postMessage(w,l)}))},w=n.reduce(((t,e)=>(t[e]=u(e),t)),{});return Object.assign(t,(t=>{const e={};for(const n in t)he(e,n,t[n]);return e})(w)),()=>{d=!0}},me=(t,e,n,o,r)=>{const{destroy:i,onDestroy:s}=o;let a,l;const c={};return o=>{if("*"!==e&&o.origin!==e)return void r(`Parent: Handshake - Received ACK message from origin ${o.origin} which did not match expected origin ${e}`);r("Parent: Handshake - Received ACK");const d={localName:"Parent",local:window,remote:o.source,originForSending:n,originForReceiving:e};a&&a(),a=((t,e,n)=>{const{localName:o,local:r,remote:i,originForSending:s,originForReceiving:a}=t;let l=!1;const c=t=>{if(t.source!==i||t.data.penpal!==ne.Call)return;if("*"!==a&&t.origin!==a)return void n(`${o} received message from origin ${t.origin} which did not match expected origin ${a}`);const r=t.data,{methodName:c,args:d,id:u}=r;n(`${o}: Received ${c}() call`);const w=t=>e=>{if(n(`${o}: Sending ${c}() reply`),l)return void n(`${o}: Unable to send ${c}() reply due to destroyed connection`);const r={penpal:ne.Reply,id:u,resolution:t,returnValue:e};t===oe.Rejected&&e instanceof Error&&(r.returnValue=de(e),r.returnValueIsError=!0);try{i.postMessage(r,s)}catch(t){if(t.name===ie.DataCloneError){const e={penpal:ne.Reply,id:u,resolution:oe.Rejected,returnValue:de(t),returnValueIsError:!0};i.postMessage(e,s)}throw t}};new Promise((t=>t(e[c].apply(e,d)))).then(w(oe.Fulfilled),w(oe.Rejected))};return r.addEventListener(se.Message,c),()=>{l=!0,r.removeEventListener(se.Message,c)}})(d,t,r),s(a),l&&l.forEach((t=>{delete c[t]})),l=o.data.methodNames;const u=ge(c,d,l,i,r);return s(u),c}};var ve=t=>{let{iframe:e,methods:n={},childOrigin:o,timeout:r,debug:i=!1}=t;const s=(t=>(...e)=>{t&&console.log("[Penpal]",...e)})(i),a=((t,e)=>{const n=[];let o=!1;return{destroy(r){o||(o=!0,e(`${t}: Destroying connection`),n.forEach((t=>{t(r)})))},onDestroy(t){o?t():n.push(t)}}})("Parent",s),{onDestroy:l,destroy:c}=a;o||((t=>{if(!t.src&&!t.srcdoc){const t=new Error("Iframe must have src or srcdoc property defined.");throw t.code=re.NoIframeSrc,t}})(e),o=(t=>{if(t&&ce.find((e=>t.startsWith(e))))return"null";const e=document.location,n=le.exec(t);let o,r,i;return n?(o=n[1]?n[1]:e.protocol,r=n[2],i=n[4]):(o=e.protocol,r=e.hostname,i=e.port),`${o}//${r}${i&&i!==ae[o]?`:${i}`:""}`})(e.src));const d="null"===o?"*":o,u=fe(n),w=((t,e,n,o)=>r=>{if(!r.source)return;if("*"!==n&&r.origin!==n)return void t(`Parent: Handshake - Received SYN message from origin ${r.origin} which did not match expected origin ${n}`);t("Parent: Handshake - Received SYN, responding with SYN-ACK");const i={penpal:ne.SynAck,methodNames:Object.keys(e)};r.source.postMessage(i,o)})(s,u,o,d),p=me(u,o,d,a,s),h=new Promise(((t,n)=>{const o=((t,e)=>{let n;return void 0!==t&&(n=window.setTimeout((()=>{const n=new Error(`Connection timed out after ${t}ms`);n.code=re.ConnectionTimeout,e(n)}),t)),()=>{clearTimeout(n)}})(r,c),i=n=>{if(n.source===e.contentWindow&&n.data)if(n.data.penpal!==ne.Syn)if(n.data.penpal!==ne.Ack);else{const e=p(n);e&&(o(),t(e))}else w(n)};window.addEventListener(se.Message,i),s("Parent: Awaiting handshake"),((t,e)=>{const{destroy:n,onDestroy:o}=e,r=setInterval((()=>{t.isConnected||(clearInterval(r),n())}),6e4);o((()=>{clearInterval(r)}))})(e,a),l((t=>{window.removeEventListener(se.Message,i),t&&n(t)}))}));return{promise:h,destroy(){c()}}};function be(t){x(t,"svelte-1c05l0n","button.svelte-1c05l0n{flex:0 0 auto;position:relative;opacity:0.8;height:100%;display:flex;align-items:center;justify-content:center;color:inherit;background:none;border:none;margin:0;padding:0;font-size:1em;cursor:pointer}.img-container.svelte-1c05l0n{margin:calc(var(--spacing) / 2);width:1.6em;height:1.6em;position:relative}svg.svelte-1c05l0n{width:100%;height:100%;top:0;bottom:0;left:0;right:0;position:absolute}")}function ye(t){let e,n,o;return{c(){e=S("div"),e.innerHTML='<svg v-if="icon === &#39;close&#39;" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c05l0n"><rect fill="none" height="24" width="24"></rect><path d="M3,3v18h18V3H3z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12 L17,15.59z"></path></svg>'},m(t,n){j(t,e,n),o=!0},i(t){o||(ot((()=>{n||(n=mt(e,ee,{delay:100,duration:100},!0)),n.run(1)})),o=!0)},o(t){n||(n=mt(e,ee,{delay:100,duration:100},!1)),n.run(0),o=!1},d(t){t&&E(e),t&&n&&n.end()}}}function xe(t){let e,n,o;return{c(){e=S("div"),e.innerHTML='<svg v-else-if="icon === &#39;launch&#39;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c05l0n"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg>'},m(t,n){j(t,e,n),o=!0},i(t){o||(ot((()=>{n||(n=mt(e,ee,{delay:100,duration:100},!0)),n.run(1)})),o=!0)},o(t){n||(n=mt(e,ee,{delay:100,duration:100},!1)),n.run(0),o=!1},d(t){t&&E(e),t&&n&&n.end()}}}function ke(t){let e,n,o;return{c(){e=S("div"),e.innerHTML='<svg v-else-if="icon === &#39;plug&#39;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c05l0n"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z"></path></svg>'},m(t,n){j(t,e,n),o=!0},i(t){o||(ot((()=>{n||(n=mt(e,ee,{delay:100,duration:100},!0)),n.run(1)})),o=!0)},o(t){n||(n=mt(e,ee,{delay:100,duration:100},!1)),n.run(0),o=!1},d(t){t&&E(e),t&&n&&n.end()}}}function $e(t){let e,n,o;return{c(){e=S("div"),e.innerHTML='<svg v-else-if="icon === &#39;unplug&#39;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c05l0n"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M18 14.49V9c0-1-1.01-2.01-2-2V3h-2v4h-4V3H8v2.48l9.51 9.5.49-.49zm-1.76 1.77L7.2 7.2l-.01.01L3.98 4 2.71 5.25l3.36 3.36C6.04 8.74 6 8.87 6 9v5.48L9.5 18v3h5v-3l.48-.48L19.45 22l1.26-1.28-4.47-4.46z"></path></svg>'},m(t,n){j(t,e,n),o=!0},i(t){o||(ot((()=>{n||(n=mt(e,ee,{delay:100,duration:100},!0)),n.run(1)})),o=!0)},o(t){n||(n=mt(e,ee,{delay:100,duration:100},!1)),n.run(0),o=!1},d(t){t&&E(e),t&&n&&n.end()}}}function qe(t){let e,n,o,i,s,a,l,d,h,f="close"===t[0]&&ye(),g="launch"===t[0]&&xe(),m="plug"===t[0]&&ke(),v="unplug"===t[0]&&$e();const b=t[3].default,x=c(b,t,t[2],null);return{c(){e=S("button"),n=S("div"),f&&f.c(),o=L(),g&&g.c(),i=L(),m&&m.c(),s=L(),v&&v.c(),a=L(),x&&x.c(),_(n,"class","img-container svelte-1c05l0n"),_(e,"class","svelte-1c05l0n")},m(r,c){j(r,e,c),y(e,n),f&&f.m(n,null),y(n,o),g&&g.m(n,null),y(n,i),m&&m.m(n,null),y(n,s),v&&v.m(n,null),y(e,a),x&&x.m(e,null),l=!0,d||(h=[P(e,"keypress",t[4]),P(e,"click",t[5])],d=!0)},p(t,[e]){"close"===t[0]?f?1&e&&ht(f,1):(f=ye(),f.c(),ht(f,1),f.m(n,o)):f&&(wt(),ft(f,1,1,(()=>{f=null})),pt()),"launch"===t[0]?g?1&e&&ht(g,1):(g=xe(),g.c(),ht(g,1),g.m(n,i)):g&&(wt(),ft(g,1,1,(()=>{g=null})),pt()),"plug"===t[0]?m?1&e&&ht(m,1):(m=ke(),m.c(),ht(m,1),m.m(n,s)):m&&(wt(),ft(m,1,1,(()=>{m=null})),pt()),"unplug"===t[0]?v?1&e&&ht(v,1):(v=$e(),v.c(),ht(v,1),v.m(n,null)):v&&(wt(),ft(v,1,1,(()=>{v=null})),pt()),x&&x.p&&(!l||4&e)&&w(x,b,t,t[2],l?u(b,t[2],e,null):p(t[2]),null)},i(t){l||(ht(f),ht(g),ht(m),ht(v),ht(x,t),l=!0)},o(t){ft(f),ft(g),ft(m),ft(v),ft(x,t),l=!1},d(t){t&&E(e),f&&f.d(),g&&g.d(),m&&m.d(),v&&v.d(),x&&x.d(t),d=!1,r(h)}}}function je(t,e,n){let{$$slots:o={},$$scope:r}=e,{icon:i}=e;const s=J();return t.$$set=t=>{"icon"in t&&n(0,i=t.icon),"$$scope"in t&&n(2,r=t.$$scope)},[i,s,r,o,()=>s("click","detail value"),()=>s("click","detail value")]}class Ee extends qt{constructor(t){super(),$t(this,t,je,qe,s,{icon:0},be)}}const{window:Se}=vt;function Ce(t){x(t,"svelte-12wjokq",".svelte-12wjokq,.svelte-12wjokq::before,.svelte-12wjokq::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.svelte-12wjokq::before,.svelte-12wjokq::after{--tw-content:''}a.svelte-12wjokq{color:inherit;text-decoration:inherit}input.svelte-12wjokq{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}.svelte-12wjokq:-moz-focusring{outline:auto}.svelte-12wjokq:-moz-ui-invalid{box-shadow:none}.svelte-12wjokq::-webkit-inner-spin-button,.svelte-12wjokq::-webkit-outer-spin-button{height:auto}.svelte-12wjokq::-webkit-search-decoration{-webkit-appearance:none}.svelte-12wjokq::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}input.svelte-12wjokq::-moz-placeholder{opacity:1;color:#9ca3af}input.svelte-12wjokq::placeholder{opacity:1;color:#9ca3af}.svelte-12wjokq:disabled{cursor:default}iframe.svelte-12wjokq{display:block;vertical-align:middle}.svelte-12wjokq,.svelte-12wjokq::before,.svelte-12wjokq::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-12wjokq::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }@media(min-width: 640px){}@media(min-width: 768px){}@media(min-width: 1024px){}@media(min-width: 1280px){}@media(min-width: 1536px){}.relative.svelte-12wjokq{position:relative}.-top-2.svelte-12wjokq{top:-0.5rem}.m-2.svelte-12wjokq{margin:0.5rem}.m-0.svelte-12wjokq{margin:0px}.flex.svelte-12wjokq{display:flex}.hidden.svelte-12wjokq{display:none}.h-screen.svelte-12wjokq{height:100vh}.w-full.svelte-12wjokq{width:100%}.max-w-full.svelte-12wjokq{max-width:100%}.flex-1.svelte-12wjokq{flex:1 1 0%}.flex-shrink.svelte-12wjokq{flex-shrink:1}.flex-row.svelte-12wjokq{flex-direction:row}.flex-col.svelte-12wjokq{flex-direction:column}.items-center.svelte-12wjokq{align-items:center}.border-b-4.svelte-12wjokq{border-bottom-width:4px}.border-none.svelte-12wjokq{border-style:none}.border-\\[\\#0eff02\\].svelte-12wjokq{--tw-border-opacity:1;border-color:rgb(14 255 2 / var(--tw-border-opacity))}.bg-none.svelte-12wjokq{background-image:none}.p-\\[1em\\].svelte-12wjokq{padding:1em}.pl-2.svelte-12wjokq{padding-left:0.5rem}.pl-0.svelte-12wjokq{padding-left:0px}.pr-0.svelte-12wjokq{padding-right:0px}.text-sm.svelte-12wjokq{font-size:0.875rem;line-height:1.25rem}.text-white.svelte-12wjokq{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.outline-none.svelte-12wjokq{outline:2px solid transparent;outline-offset:2px}div.svelte-12wjokq{--spacing:1em;--background:#161616}iframe.svelte-12wjokq{border:none;width:100%;height:100%}.iframe.svelte-12wjokq{display:flex;height:100%;min-height:500px}.logo.svelte-12wjokq{flex:0 0 auto;position:relative;opacity:1;height:100%;display:flex;align-items:center;justify-content:center;padding:calc(var(--spacing) / 2)}.url.svelte-12wjokq{flex:1 1 0;background-color:var(--background)}.actions.svelte-12wjokq{display:flex}.actions.svelte-12wjokq:last-child{padding-right:calc(var(--spacing) / 2)}.action.dim.svelte-12wjokq{opacity:0.9;color:#e0f7fa}.connected.svelte-12wjokq{color:greenyellow;text-shadow:1px 1px 3px black}.disconnected.svelte-12wjokq{color:#e0f7fa;text-shadow:1px 1px 3px black}@media(min-width: 640px){.sm\\:flex.svelte-12wjokq{display:flex}.sm\\:text-base.svelte-12wjokq{font-size:1rem;line-height:1.5rem}}")}function Le(t){let e,n,o,r=t[9].loading||!t[7]?"Loading...":"Load";return{c(){e=S("span"),n=C(r),_(e,"class",o=(t[0]?.address?" connected ":" disconnected ")+" hidden sm:flex svelte-12wjokq")},m(t,o){j(t,e,o),y(e,n)},p(t,i){640&i&&r!==(r=t[9].loading||!t[7]?"Loading...":"Load")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(n,r),1&i&&o!==(o=(t[0]?.address?" connected ":" disconnected ")+" hidden sm:flex svelte-12wjokq")&&_(e,"class",o)},d(t){t&&E(e)}}}function ze(t){let e,n,o,i,s,a,c,d,u,w,p,f,g,m,v,b,x,k,$,q,C,z,M,N;return s=new Kt({}),m=new Ee({props:{icon:t[10],$$slots:{default:[Le]},$$scope:{ctx:t}}}),m.$on("keypress",t[20]),m.$on("click",t[21]),{c(){e=S("div"),n=S("div"),o=S("a"),i=S("div"),bt(s.$$.fragment),a=L(),c=S("div"),d=S("input"),u=L(),w=S("span"),p=L(),f=S("div"),g=S("div"),bt(m.$$.fragment),x=L(),k=S("div"),$=S("iframe"),_(i,"class","actions logo svelte-12wjokq"),_(o,"class","flex-0 hidden sm:flex svelte-12wjokq"),_(o,"href","https://PeerPiper.io"),_(o,"target","_blank"),_(o,"rel","noreferrer"),_(d,"class","url pl-0 p-[1em] pr-0 text-white bg-none border-none m-0 text-sm sm:text-base outline-none svelte-12wjokq"),_(d,"placeholder",Pe),_(w,"class","border-b-4 border-[#0eff02] flex-1 relative -top-2 svelte-12wjokq"),_(c,"class","flex-shrink flex flex-col w-full pl-2 svelte-12wjokq"),_(g,"class",v=h(t[9]?.loading?"action dim":t[0]?.address?" connected ":" disconnected ")+" svelte-12wjokq"),_(f,"class","flex svelte-12wjokq"),_(n,"class","flex flex-row space-between items-center svelte-12wjokq"),A(n,"--topOffsetHeight",t[2]),ot((()=>t[22].call(n))),_($,"title","Web Wallet"),l($.src,q=t[7])||_($,"src",q),_($,"allow","clipboard-read 'self' 'src'; clipboard-write 'self' 'src';"),_($,"class","svelte-12wjokq"),_(k,"class","iframe svelte-12wjokq"),A(k,"height","calc("+t[4]+"px + 18px)"),ot((()=>t[24].call(k))),_(e,"class","flex flex-col m-2 max-w-full h-screen svelte-12wjokq")},m(r,l){j(r,e,l),y(e,n),y(n,o),y(o,i),yt(s,i,null),y(n,a),y(n,c),y(c,d),R(d,t[1]),y(c,u),y(c,w),y(n,p),y(n,f),y(f,g),yt(m,g,null),b=D(n,t[22].bind(n)),y(e,x),y(e,k),y(k,$),t[23]($),C=D(k,t[24].bind(k)),z=!0,M||(N=[P(Se,"keydown",t[13]),P(d,"focus",t[17]),P(d,"blur",t[18]),P(d,"input",t[19])],M=!0)},p(t,[e]){2&e&&d.value!==t[1]&&R(d,t[1]);const o={};1024&e&&(o.icon=t[10]),536871553&e&&(o.$$scope={dirty:e,ctx:t}),m.$set(o),(!z||513&e&&v!==(v=h(t[9]?.loading?"action dim":t[0]?.address?" connected ":" disconnected ")+" svelte-12wjokq"))&&_(g,"class",v),(!z||4&e)&&A(n,"--topOffsetHeight",t[2]),(!z||128&e&&!l($.src,q=t[7]))&&_($,"src",q),(!z||16&e)&&A(k,"height","calc("+t[4]+"px + 18px)")},i(t){z||(ht(s.$$.fragment,t),ht(m.$$.fragment,t),z=!0)},o(t){ft(s.$$.fragment,t),ft(m.$$.fragment,t),z=!1},d(n){n&&E(e),xt(s),xt(m),b(),t[23](null),C(),M=!1,r(N)}}}let Pe="Enter Wallet Url";function _e(t,e,n){let o,r,{wallet:i=null}=e,{inputUrl:s="https://peerpiper.github.io/iframe-wallet-sdk/"}=e,{topOffsetHeight:a=0}=e,{topOffsetWidth:l=0}=e,{iframeParentHeight:c=0}=e,{iframeParentWidth:d=0}=e,{show:u}=e,{hide:w}=e;const p=J();let h,f,g;const m={loading:!0};async function v(){let t;n(9,m.loading=!1,m);const e=ve({iframe:f,methods:{setIframeParentHeight(t){n(4,c=t)},setIframeParentWidth(t){n(14,d=t)},show(){u()},hide(){console.log("hiding",{hide:w}),w()},walletReady:()=>(n(0,i=t),p("walletReady",{wallet:i}),window.arweaveWallet=i.arweaveWalletAPI,i&&setTimeout((()=>{w()}),250),!0)}});t=await e.promise,u()}Y((async()=>{b()}));const b=()=>{h!==s&&(n(7,h=""),n(7,h=s),n(9,m.loading=!0,m),p("inputUrl",s))},y=()=>i.disconnect();return t.$$set=t=>{"wallet"in t&&n(0,i=t.wallet),"inputUrl"in t&&n(1,s=t.inputUrl),"topOffsetHeight"in t&&n(2,a=t.topOffsetHeight),"topOffsetWidth"in t&&n(3,l=t.topOffsetWidth),"iframeParentHeight"in t&&n(4,c=t.iframeParentHeight),"iframeParentWidth"in t&&n(14,d=t.iframeParentWidth),"show"in t&&n(15,u=t.show),"hide"in t&&n(16,w=t.hide)},t.$$.update=()=>{64&t.$$.dirty&&f&&f.addEventListener("load",v),1&t.$$.dirty&&i?.keepPopup,1&t.$$.dirty&&n(10,o=i?.address?"unplug":"plug"),33&t.$$.dirty&&r&&i&&i?.setWidth(r)},[i,s,a,l,c,r,f,h,g,m,o,b,y,function(t){"Enter"===t.key&&g&&b()},d,u,w,()=>n(8,g=!0),()=>n(8,g=!1),function(){s=this.value,n(1,s)},()=>{i?.address?y():b()},()=>{i?.address?y():b()},function(){a=this.offsetHeight,l=this.offsetWidth,n(2,a),n(3,l)},function(t){Z[t?"unshift":"push"]((()=>{f=t,n(6,f)}))},function(){r=this.offsetWidth,n(5,r)}]}class Re extends qt{constructor(t){super(),$t(this,t,_e,ze,s,{wallet:0,inputUrl:1,topOffsetHeight:2,topOffsetWidth:3,iframeParentHeight:4,iframeParentWidth:14,show:15,hide:16},Ce)}}function Ae(t){x(t,"svelte-177p799",".svelte-177p799,.svelte-177p799::before,.svelte-177p799::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.svelte-177p799::before,.svelte-177p799::after{--tw-content:''}.svelte-177p799:-moz-focusring{outline:auto}.svelte-177p799:-moz-ui-invalid{box-shadow:none}.svelte-177p799::-webkit-inner-spin-button,.svelte-177p799::-webkit-outer-spin-button{height:auto}.svelte-177p799::-webkit-search-decoration{-webkit-appearance:none}.svelte-177p799::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.svelte-177p799:disabled{cursor:default}.svelte-177p799,.svelte-177p799::before,.svelte-177p799::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-177p799::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }@media(min-width: 640px){}@media(min-width: 768px){}@media(min-width: 1024px){}@media(min-width: 1280px){}@media(min-width: 1536px){}.m-0.svelte-177p799{margin:0px}@media(min-width: 640px){}")}function Me(t){let e,n;return e=new te({props:{inputUrl:t[1],$$slots:{default:[Ne,({openNav:t,hideNav:e,saveInputURL:n,url:o})=>({5:t,6:e,7:n,8:o}),({openNav:t,hideNav:e,saveInputURL:n,url:o})=>(t?32:0)|(e?64:0)|(n?128:0)|(o?256:0)]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,o){yt(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.inputUrl=t[1]),993&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){ft(e.$$.fragment,t),n=!1},d(t){xt(e,t)}}}function Ne(t){let e,n,o;function r(e){t[3](e)}let s={show:t[5],hide:t[6],inputUrl:t[8]};return void 0!==t[0]&&(s.wallet=t[0]),e=new Re({props:s}),Z.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(e,"wallet",r))),e.$on("walletReady",t[4]),e.$on("inputUrl",(function(){i(t[7])&&t[7].apply(this,arguments)})),{c(){bt(e.$$.fragment)},m(t,n){yt(e,t,n),o=!0},p(o,r){t=o;const i={};var s;32&r&&(i.show=t[5]),64&r&&(i.hide=t[6]),256&r&&(i.inputUrl=t[8]),!n&&1&r&&(n=!0,i.wallet=t[0],s=()=>n=!1,tt.push(s)),e.$set(i)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){ft(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function De(t){let e,n,o=t[2]&&Me(t);return{c(){e=S("section"),o&&o.c(),_(e,"class","m-0 svelte-177p799")},m(t,r){j(t,e,r),o&&o.m(e,null),n=!0},p(t,[n]){t[2]?o?(o.p(t,n),4&n&&ht(o,1)):(o=Me(t),o.c(),ht(o,1),o.m(e,null)):o&&(wt(),ft(o,1,1,(()=>{o=null})),pt())},i(t){n||(ht(o),n=!0)},o(t){ft(o),n=!1},d(t){t&&E(e),o&&o.d()}}}function Ie(t,e,n){let o,{inputUrl:r=null}=e,{wallet:i=null}=e;return Y((()=>{n(2,o=!0)})),t.$$set=t=>{"inputUrl"in t&&n(1,r=t.inputUrl),"wallet"in t&&n(0,i=t.wallet)},[i,r,o,function(t){i=t,n(0,i)},function(e){X.call(this,t,e)}]}var Ue,He=Object.freeze({__proto__:null,default:class extends qt{constructor(t){super(),$t(this,t,Ie,De,s,{inputUrl:1,wallet:0},Ae)}}}),Oe={exports:{}};Ue=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(o){function r(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=o.write?o.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in i)i[l]&&(a+="; "+l,!0!==i[l]&&(a+="="+i[l].split(";")[0]));return document.cookie=e+"="+n+a}}function s(t,n){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),l=a.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(a[0]);if(l=(o.read||o)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(t){}if(r[c]=l,t===c)break}catch(t){}}return t?r[t]:r}}return r.set=i,r.get=function(t){return s(t,!1)},r.getJSON=function(t){return s(t,!0)},r.remove=function(e,n){i(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))};var Be=Oe.exports=Ue();const Te=function(){try{return!Boolean(window.top.location.href)}catch(t){return!0}}(),We=!!Te,Fe=Te?"None":"Lax";class Ve{constructor({ttl:t=365,secure:e=We,sameSite:n=Fe}={}){return this.ttl=t,this.secure=e,this.sameSite=n,(async()=>this)()}async get(t){const e=Be.get(t);return"string"==typeof e?e:void 0}async set(t,e){Be.set(t,e,this._constructCookieParams())}async remove(t){Be.remove(t,this._constructCookieParams())}_constructCookieParams(){return{expires:this.ttl,secure:this.secure,sameSite:this.sameSite}}}class Ke{constructor(t="keyval-store",e="keyval"){this.storeName=e,this._dbp=new Promise(((n,o)=>{const r=indexedDB.open(t,1);r.onerror=()=>o(r.error),r.onsuccess=()=>n(r.result),r.onupgradeneeded=()=>{r.result.createObjectStore(e)}}))}_withIDBStore(t,e){return this._dbp.then((n=>new Promise(((o,r)=>{const i=n.transaction(this.storeName,t);i.oncomplete=()=>o(),i.onabort=i.onerror=()=>r(i.error),e(i.objectStore(this.storeName))}))))}}let Ye;function Je(){return Ye||(Ye=new Ke),Ye}class Xe{constructor(t="ImmortalDB",e="key-value-pairs"){return this.store=new Ke(t,e),(async()=>{try{await this.store._dbp}catch(t){if("SecurityError"===t.name)return null;throw t}return this})()}async get(t){const e=await function(t,e=Je()){let n;return e._withIDBStore("readonly",(e=>{n=e.get(t)})).then((()=>n.result))}(t,this.store);return"string"==typeof e?e:void 0}async set(t,e){await function(t,e,n=Je()){return n._withIDBStore("readwrite",(n=>{n.put(e,t)}))}(t,e,this.store)}async remove(t){await function(t,e=Je()){return e._withIDBStore("readwrite",(e=>{e.delete(t)}))}(t,this.store)}}class Ge{constructor(t){return this.store=t,(async()=>this)()}async get(t){const e=this.store.getItem(t);return"string"==typeof e?e:void 0}async set(t,e){this.store.setItem(t,e)}async remove(t){this.store.removeItem(t)}}class Ze extends Ge{constructor(){super(window.localStorage)}}const Qe=console.log,tn="undefined"!=typeof window,en=[Ve];try{tn&&window.indexedDB&&en.push(Xe)}catch(t){}try{tn&&window.localStorage&&en.push(Ze)}catch(t){}function nn(t,e,n=null){return e in t?t[e]:n}class on{constructor(t=en){this.stores=[],this.onReady=(async()=>{this.stores=(await Promise.all(t.map((async t=>{if("object"==typeof t)return t;try{return await new t}catch(t){return null}})))).filter(Boolean)})()}async get(t,e=null){await this.onReady;const n=`_immortal|${t}`,o=await Promise.all(this.stores.map((async t=>{try{return await t.get(n)}catch(t){Qe(t)}}))),r=Array.from(function(t){const e=new Map;let n=t.slice();for(const t of n){let o=0;for(const e of n)t===e&&(o+=1);o>0&&(e.set(t,o),n=n.filter((e=>e!==t)))}return e}(o).entries());let i;r.sort(((t,e)=>t[1]<=e[1]));const[s,a]=nn(r,0,[void 0,0]),[l,c]=nn(r,1,[void 0,0]);return i=a>c||a===c&&void 0!==s?s:l,void 0!==i?(await this.set(t,i),i):(await this.remove(t),e)}async set(t,e){return await this.onReady,t=`_immortal|${t}`,await Promise.all(this.stores.map((async n=>{try{await n.set(t,e)}catch(t){Qe(t)}}))),e}async remove(t){await this.onReady,t=`_immortal|${t}`,await Promise.all(this.stores.map((async e=>{try{await e.remove(t)}catch(t){Qe(t)}})))}}const rn=new on;var sn=Object.freeze({__proto__:null,ImmortalDB:rn,ImmortalStorage:on,CookieStore:Ve,IndexedDbStore:Xe,LocalStorageStore:Ze,SessionStorageStore:class extends Ge{constructor(){super(window.sessionStorage)}},DEFAULT_STORES:en,DEFAULT_KEY_PREFIX:"_immortal|"});export{_t as default};
