import{S as be,i as ke,s as Ie,k as D,I as U,l as R,m as b,J as H,h,n as u,K as Ne,b as q,G as w,B as Se,w as ve,a as B,e as Ge,x as _e,c as F,L as ge,y as we,M as $,N as Pt,f as V,g as de,t as N,d as he,z as ye,O as ze,o as Ae,C as _t,D as wt,E as yt,F as Et,P as St,Q as bt,R as Ee,T as ie,U as xe,p as Pe,V as Xe,W as Je,X as Qe,Y as Vt,q as ue,r as fe,u as kt,Z as It,_ as At,$ as Ut,a0 as Ht,a1 as Wt}from"../../chunks/index-03908c40.js";import{_ as Nt}from"../../chunks/preload-helper-b21cceae.js";function Tt(n,e,t,s){var r,l=(r=s)==null||typeof r=="number"||typeof r=="boolean"?s:t(s),i=e.get(l);return i===void 0&&(i=n.call(this,s),e.set(l,i)),i}function Ot(n,e,t){var s=Array.prototype.slice.call(arguments,3),r=t(s),l=e.get(r);return l===void 0&&(l=n.apply(this,s),e.set(r,l)),l}function zt(n,e){return function(t,s,r,l,i){return r.bind(s,t,l,i)}(n,this,n.length===1?Tt:Ot,e.cache.create(),e.serializer)}const jt=JSON.stringify;function Ve(){this.cache=Object.create(null)}Ve.prototype.has=function(n){return n in this.cache},Ve.prototype.get=function(n){return this.cache[n]},Ve.prototype.set=function(n,e){this.cache[n]=e};var qt={create:function(){return new Ve}};const Bt=(n,e={})=>{var Be,Fe;let{bounds:t,axis:s="both",gpuAcceleration:r=!0,applyUserSelectHack:l=!0,disabled:i=!1,ignoreMultitouch:o=!1,grid:a,position:d,cancel:p,handle:m,defaultClass:v="neodrag",defaultClassDragging:f="neodrag-dragging",defaultClassDragged:y="neodrag-dragged",defaultPosition:k={x:0,y:0},onDragStart:E,onDrag:_,onDragEnd:c}=e;const g=new Promise(requestAnimationFrame);let I,O,A=!1,W=0,z=0,L=0,P=0,j=0,x=0,{x:G,y:M}=d?{x:(Be=d==null?void 0:d.x)!=null?Be:0,y:(Fe=d==null?void 0:d.y)!=null?Fe:0}:k;Te(G,M,n,r);let X,K,ne,Ue,je="",Rt=!!d;const He=document.body.style,re=n.classList,We=(C,Q)=>{const Z={offsetX:W,offsetY:z,domRect:n.getBoundingClientRect()};n.dispatchEvent(new CustomEvent(C,{detail:Z})),Q==null||Q(Z)},me=addEventListener;me("touchstart",Le,!1),me("touchend",Me,!1),me("touchmove",De,!1),me("mousedown",Le,!1),me("mouseup",Me,!1),me("mousemove",De,!1),n.style.touchAction="none";const qe=()=>{let C=n.offsetWidth/K.width;return isNaN(C)&&(C=1),C};function Le(C){if(i||o&&C.type==="touchstart"&&C.touches.length>1)return;if(re.add(v),ne=function(S,Y){if(!S)return Y;if(S instanceof HTMLElement||Array.isArray(S))return S;const T=Y.querySelectorAll(S);if(T===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(T.values())}(m,n),Ue=function(S,Y){if(!S)return;if(S instanceof HTMLElement||Array.isArray(S))return S;const T=Y.querySelectorAll(S);if(T===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(T.values())}(p,n),I=/(both|x)/.test(s),O=/(both|y)/.test(s),t!==void 0&&(X=function(S,Y){if(S instanceof HTMLElement)return S.getBoundingClientRect();if(typeof S=="object"){const{top:se=0,left:le=0,right:oe=0,bottom:Re=0}=S;return{top:se,right:window.innerWidth-oe,bottom:window.innerHeight-Re,left:le}}if(S==="parent")return Y.parentNode.getBoundingClientRect();const T=document.querySelector(S);if(T===null)throw new Error("The selector provided for bound doesn't exists in the document.");return T.getBoundingClientRect()}(t,n)),K=n.getBoundingClientRect(),et(m)&&et(p)&&m===p)throw new Error("`handle` selector can't be same as `cancel` selector");if(st(Ue,ne))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");if((ne instanceof HTMLElement?ne.contains(C.target):ne.some(S=>S.contains(C.target)))&&!st(Ue,C.target)&&(A=!0),!A)return;l&&(je=He.userSelect,He.userSelect="none"),We("neodrag:start",E);const{clientX:Q,clientY:Z}=Ze(C)?C.touches[0]:C,J=qe();I&&(L=Q-G/J),O&&(P=Z-M/J),X&&(j=Q-K.left,x=Z-K.top)}function Me(){A&&(re.remove(f),re.add(y),l&&(He.userSelect=je),We("neodrag:end",c),I&&(L=W),I&&(P=z),A=!1)}function De(C){if(!A)return;re.add(f),C.preventDefault(),K=n.getBoundingClientRect();const{clientX:Q,clientY:Z}=Ze(C)?C.touches[0]:C;let J=Q,S=Z;const Y=qe();if(X){const T={left:X.left+j,top:X.top+x,right:X.right+j-K.width,bottom:X.bottom+x-K.height};J=$e(J,T.left,T.right),S=$e(S,T.top,T.bottom)}if(Array.isArray(a)){let[T,se]=a;if(isNaN(+T)||T<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+se)||se<0)throw new Error("2nd argument of `grid` must be a valid positive number");let le=J-L,oe=S-P;[le,oe]=Ft([T/Y,se/Y],le,oe),J=L+le,S=P+oe}I&&(W=Math.round((J-L)*Y)),O&&(z=Math.round((S-P)*Y)),G=W,M=z,We("neodrag",_),g.then(()=>Te(W,z,n,r))}return{destroy:()=>{const C=removeEventListener;C("touchstart",Le,!1),C("touchend",Me,!1),C("touchmove",De,!1),C("mousedown",Le,!1),C("mouseup",Me,!1),C("mousemove",De,!1)},update:C=>{var Z,J,S,Y,T,se,le,oe,Re,Ke,Ye;s=C.axis||"both",i=(Z=C.disabled)!=null?Z:!1,o=(J=C.ignoreMultitouch)!=null?J:!1,m=C.handle,t=C.bounds,p=C.cancel,l=(S=C.applyUserSelectHack)!=null?S:!0,a=C.grid,r=(Y=C.gpuAcceleration)!=null?Y:!0;const Q=re.contains(y);re.remove(v,y),v=(T=C.defaultClass)!=null?T:"neodrag",f=(se=C.defaultClassDragging)!=null?se:"neodrag-dragging",y=(le=C.defaultClassDragged)!=null?le:"neodrag-dragged",re.add(v),Q&&re.add(y),Rt&&(G=W=(Re=(oe=C.position)==null?void 0:oe.x)!=null?Re:W,M=z=(Ye=(Ke=C.position)==null?void 0:Ke.y)!=null?Ye:z,g.then(()=>Te(W,z,n,r)))}}},Ze=n=>{var e;return!!((e=n.touches)!=null&&e.length)},$e=(n,e,t)=>Math.min(Math.max(n,e),t),et=n=>typeof n=="string";var mt,gt,vt;const Ft=(tt=([n,e],t,s)=>{const r=(l,i)=>Math.ceil(l/i)*i;return[r(t,n),r(s,e)]},nt=(mt=te==null?void 0:te.cache)!=null?mt:qt,rt=(gt=te==null?void 0:te.serializer)!=null?gt:jt,((vt=te==null?void 0:te.strategy)!=null?vt:zt)(tt,{cache:nt,serializer:rt}));var tt,te,nt,rt;function st(n,e){const t=e instanceof HTMLElement?[e]:e;return n instanceof HTMLElement?t.some(s=>n.contains(s)):!!Array.isArray(n)&&n.some(s=>t.some(r=>s.contains(r)))}function Te(n,e,t,s){t.style.transform=s?`translate3d(${+n}px, ${+e}px, 0)`:`translate(${+n}px, ${+e}px)`}function Kt(n){let e,t,s,r,l,i,o,a,d,p,m,v,f;return{c(){e=D("div"),t=U("svg"),s=U("defs"),r=U("defs"),l=U("path"),i=U("path"),o=U("path"),a=U("radialGradient"),d=U("stop"),p=U("stop"),m=U("use"),v=U("use"),f=U("use"),this.h()},l(y){e=R(y,"DIV",{});var k=b(e);t=H(k,"svg",{xmlns:!0,"xmlns:xlink":!0,viewBox:!0,width:!0,height:!0,class:!0});var E=b(t);s=H(E,"defs",{}),b(s).forEach(h),r=H(E,"defs",{});var _=b(r);l=H(_,"path",{id:!0,d:!0}),b(l).forEach(h),i=H(_,"path",{id:!0,d:!0}),b(i).forEach(h),o=H(_,"path",{id:!0,d:!0}),b(o).forEach(h),a=H(_,"radialGradient",{id:!0,cx:!0,cy:!0,r:!0,gradientUnits:!0});var c=b(a);d=H(c,"stop",{offset:!0,"stop-color":!0}),b(d).forEach(h),p=H(c,"stop",{offset:!0,"stop-color":!0}),b(p).forEach(h),c.forEach(h),_.forEach(h),m=H(E,"use",{fill:!0,"xlink:href":!0}),b(m).forEach(h),v=H(E,"use",{fill:!0,"xlink:href":!0}),b(v).forEach(h),f=H(E,"use",{fill:!0,"xlink:href":!0}),b(f).forEach(h),E.forEach(h),k.forEach(h),this.h()},h(){u(l,"id","a"),u(l,"d","M258 1321c9-304 6-917 0-1191 52-161 1082-280 1083 330 1 609-618 545-701 538-2 67-2 208 0 422-222 56-349 23-382-99z"),u(i,"id","c"),u(i,"d","M1122 560c-107 223-284 293-529 209l-38 79c-1 2-4 2-5-1l-99-287c-1-5 1-11 6-13l273-106c3-1 6 2 5 5l-36 75c70 126 211 139 423 39z"),u(o,"id","d"),u(o,"d","M451 447c107-223 284-292 529-209l38-78c1-3 5-2 5 0l99 288c1 5-1 10-6 12L843 567c-3 1-6-3-5-6l37-75c-71-126-212-139-424-39z"),u(d,"offset","0%"),u(d,"stop-color","#69ed66"),u(p,"offset","100%"),u(p,"stop-color","#279c19"),u(a,"id","b"),u(a,"cx","992.3"),u(a,"cy","174.2"),u(a,"r","1312.8"),u(a,"gradientUnits","userSpaceOnUse"),u(m,"fill","url(#b)"),Ne(m,"xlink:href","#a"),u(v,"fill","#fff"),Ne(v,"xlink:href","#c"),u(f,"fill","#fff"),Ne(f,"xlink:href","#d"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),u(t,"viewBox","0 0 1440 1440"),u(t,"width","100"),u(t,"height","100"),u(t,"class","svelte-189qcdl")},m(y,k){q(y,e,k),w(e,t),w(t,s),w(t,r),w(r,l),w(r,i),w(r,o),w(r,a),w(a,d),w(a,p),w(t,m),w(t,v),w(t,f)},p:Se,i:Se,o:Se,d(y){y&&h(e)}}}class Ct extends be{constructor(e){super(),ke(this,e,null,Kt,Ie,{})}}const Yt=n=>({saveInputURL:n&8,url:n&1}),lt=n=>({openNav:n[7],hideNav:n[6],saveInputURL:n[3],url:n[0]});function ot(n){let e,t;const s=n[9].default,r=_t(s,n,n[8],lt);return{c(){e=D("div"),r&&r.c(),this.h()},l(l){e=R(l,"DIV",{class:!0});var i=b(e);r&&r.l(i),i.forEach(h),this.h()},h(){u(e,"class","sidenav svelte-dp77pq"),ge(e,"open",n[2])},m(l,i){q(l,e,i),r&&r.m(e,null),t=!0},p(l,i){r&&r.p&&(!t||i&265)&&wt(r,s,l,l[8],t?Et(s,l[8],i,Yt):yt(l[8]),lt),(!t||i&4)&&ge(e,"open",l[2])},i(l){t||(V(r,l),t=!0)},o(l){N(r,l),t=!1},d(l){l&&h(e),r&&r.d(l)}}}function Gt(n){let e,t,s,r,l,i,o,a,d,p,m,v,f,y,k,E;t=new Ct({});let _=n[1]&&ot(n);return{c(){e=D("div"),ve(t.$$.fragment),s=B(),r=D("div"),l=D("div"),i=B(),o=D("div"),a=B(),d=D("div"),p=B(),m=D("div"),v=B(),_&&_.c(),f=Ge(),this.h()},l(c){e=R(c,"DIV",{class:!0});var g=b(e);_e(t.$$.fragment,g),s=F(g),r=R(g,"DIV",{class:!0});var I=b(r);l=R(I,"DIV",{class:!0}),b(l).forEach(h),i=F(I),o=R(I,"DIV",{class:!0}),b(o).forEach(h),a=F(I),d=R(I,"DIV",{class:!0}),b(d).forEach(h),I.forEach(h),g.forEach(h),p=F(c),m=R(c,"DIV",{class:!0}),b(m).forEach(h),v=F(c),_&&_.l(c),f=Ge(),this.h()},h(){u(l,"class","bar1 svelte-dp77pq"),u(o,"class","bar2 svelte-dp77pq"),u(d,"class","bar3 svelte-dp77pq"),u(r,"class","menu-icon svelte-dp77pq"),u(e,"class","container svelte-dp77pq"),ge(e,"change",n[2]),u(m,"class","w-screen svelte-dp77pq"),ge(m,"mask",n[2])},m(c,g){q(c,e,g),we(t,e,null),w(e,s),w(e,r),w(r,l),w(r,i),w(r,o),w(r,a),w(r,d),q(c,p,g),q(c,m,g),q(c,v,g),_&&_.m(c,g),q(c,f,g),y=!0,k||(E=[$(e,"keypress",n[4]),$(e,"click",n[4]),Pt(Bt.call(null,e)),$(m,"keypress",n[5]),$(m,"click",n[5])],k=!0)},p(c,[g]){(!y||g&4)&&ge(e,"change",c[2]),(!y||g&4)&&ge(m,"mask",c[2]),c[1]?_?(_.p(c,g),g&2&&V(_,1)):(_=ot(c),_.c(),V(_,1),_.m(f.parentNode,f)):_&&(de(),N(_,1,1,()=>{_=null}),he())},i(c){y||(V(t.$$.fragment,c),V(_),y=!0)},o(c){N(t.$$.fragment,c),N(_),y=!1},d(c){c&&h(e),ye(t),c&&h(p),c&&h(m),c&&h(v),_&&_.d(c),c&&h(f),k=!1,ze(E)}}}const it="INPUT_URL";function xt(n,e,t){let{$$slots:s={},$$scope:r}=e,{inputUrl:l}=e,i,o,a;Ae(async()=>{if(typeof window.indexedDB>"u"){console.log("IndexedDB not available");return}const{ImmortalDB:f}=await Nt(()=>import("../../chunks/index-f3824ee7.js"),[],import.meta.url);t(3,a=async y=>{const k=y.detail;try{await f.set(it,k)}catch(E){console.warn("Did not save",k,E)}});try{const y=await f.get(it,null);y&&!l&&t(0,l=y)}catch(y){console.warn("Did not get",y)}t(1,i=!0)});function d(){t(2,o=!o)}function p(f){t(2,o=!1)}function m(){t(2,o=!1)}const v=()=>t(2,o=!0);return n.$$set=f=>{"inputUrl"in f&&t(0,l=f.inputUrl),"$$scope"in f&&t(8,r=f.$$scope)},[l,i,o,a,d,p,m,v,r,s]}class Xt extends be{constructor(e){super(),ke(this,e,xt,Gt,Ie,{inputUrl:0})}}function ae(n,{delay:e=0,duration:t=400,easing:s=St}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:l=>`opacity: ${l*r}`}}var ee;(function(n){n.Call="call",n.Reply="reply",n.Syn="syn",n.SynAck="synAck",n.Ack="ack"})(ee||(ee={}));var pe;(function(n){n.Fulfilled="fulfilled",n.Rejected="rejected"})(pe||(pe={}));var Ce;(function(n){n.ConnectionDestroyed="ConnectionDestroyed",n.ConnectionTimeout="ConnectionTimeout",n.NoIframeSrc="NoIframeSrc"})(Ce||(Ce={}));var Oe;(function(n){n.DataCloneError="DataCloneError"})(Oe||(Oe={}));var ce;(function(n){n.Message="message"})(ce||(ce={}));const Jt=(n,e)=>{const t=[];let s=!1;return{destroy(r){s||(s=!0,e(`${n}: Destroying connection`),t.forEach(l=>{l(r)}))},onDestroy(r){s?r():t.push(r)}}},Qt=n=>(...e)=>{n&&console.log("[Penpal]",...e)},Zt={"http:":"80","https:":"443"},$t=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,en=["file:","data:"],tn=n=>{if(n&&en.find(o=>n.startsWith(o)))return"null";const e=document.location,t=$t.exec(n);let s,r,l;t?(s=t[1]?t[1]:e.protocol,r=t[2],l=t[4]):(s=e.protocol,r=e.hostname,l=e.port);const i=l&&l!==Zt[s]?`:${l}`:"";return`${s}//${r}${i}`},at=({name:n,message:e,stack:t})=>({name:n,message:e,stack:t}),nn=n=>{const e=new Error;return Object.keys(n).forEach(t=>e[t]=n[t]),e},rn=(n,e,t)=>{const{localName:s,local:r,remote:l,originForSending:i,originForReceiving:o}=n;let a=!1;const d=p=>{if(p.source!==l||p.data.penpal!==ee.Call)return;if(o!=="*"&&p.origin!==o){t(`${s} received message from origin ${p.origin} which did not match expected origin ${o}`);return}const m=p.data,{methodName:v,args:f,id:y}=m;t(`${s}: Received ${v}() call`);const k=E=>_=>{if(t(`${s}: Sending ${v}() reply`),a){t(`${s}: Unable to send ${v}() reply due to destroyed connection`);return}const c={penpal:ee.Reply,id:y,resolution:E,returnValue:_};E===pe.Rejected&&_ instanceof Error&&(c.returnValue=at(_),c.returnValueIsError=!0);try{l.postMessage(c,i)}catch(g){if(g.name===Oe.DataCloneError){const I={penpal:ee.Reply,id:y,resolution:pe.Rejected,returnValue:at(g),returnValueIsError:!0};l.postMessage(I,i)}throw g}};new Promise(E=>E(e[v].apply(e,f))).then(k(pe.Fulfilled),k(pe.Rejected))};return r.addEventListener(ce.Message,d),()=>{a=!0,r.removeEventListener(ce.Message,d)}};let sn=0;const ln=()=>++sn,Lt=".",Mt=n=>n?n.split(Lt):[],on=n=>n.join(Lt),an=(n,e)=>{const t=Mt(e||"");return t.push(n),on(t)},cn=(n,e,t)=>{const s=Mt(e);return s.reduce((r,l,i)=>(typeof r[l]>"u"&&(r[l]={}),i===s.length-1&&(r[l]=t),r[l]),n),n},Dt=(n,e)=>{const t={};return Object.keys(n).forEach(s=>{const r=n[s],l=an(s,e);typeof r=="object"&&Object.assign(t,Dt(r,l)),typeof r=="function"&&(t[l]=r)}),t},un=n=>{const e={};for(const t in n)cn(e,t,n[t]);return e},fn=(n,e,t,s,r)=>{const{localName:l,local:i,remote:o,originForSending:a,originForReceiving:d}=e;let p=!1;r(`${l}: Connecting call sender`);const m=f=>(...y)=>{r(`${l}: Sending ${f}() call`);let k;try{o.closed&&(k=!0)}catch{k=!0}if(k&&s(),p){const E=new Error(`Unable to send ${f}() call due to destroyed connection`);throw E.code=Ce.ConnectionDestroyed,E}return new Promise((E,_)=>{const c=ln(),g=O=>{if(O.source!==o||O.data.penpal!==ee.Reply||O.data.id!==c)return;if(d!=="*"&&O.origin!==d){r(`${l} received message from origin ${O.origin} which did not match expected origin ${d}`);return}const A=O.data;r(`${l}: Received ${f}() reply`),i.removeEventListener(ce.Message,g);let W=A.returnValue;A.returnValueIsError&&(W=nn(W)),(A.resolution===pe.Fulfilled?E:_)(W)};i.addEventListener(ce.Message,g);const I={penpal:ee.Call,id:c,methodName:f,args:y};o.postMessage(I,a)})},v=t.reduce((f,y)=>(f[y]=m(y),f),{});return Object.assign(n,un(v)),()=>{p=!0}},dn=(n,e,t,s,r)=>{const{destroy:l,onDestroy:i}=s;let o,a;const d={};return p=>{if(e!=="*"&&p.origin!==e){r(`Parent: Handshake - Received ACK message from origin ${p.origin} which did not match expected origin ${e}`);return}r("Parent: Handshake - Received ACK");const m={localName:"Parent",local:window,remote:p.source,originForSending:t,originForReceiving:e};o&&o(),o=rn(m,n,r),i(o),a&&a.forEach(f=>{delete d[f]}),a=p.data.methodNames;const v=fn(d,m,a,l,r);return i(v),d}},hn=(n,e,t,s)=>r=>{if(!r.source)return;if(t!=="*"&&r.origin!==t){n(`Parent: Handshake - Received SYN message from origin ${r.origin} which did not match expected origin ${t}`);return}n("Parent: Handshake - Received SYN, responding with SYN-ACK");const l={penpal:ee.SynAck,methodNames:Object.keys(e)};r.source.postMessage(l,s)},pn=6e4,mn=(n,e)=>{const{destroy:t,onDestroy:s}=e,r=setInterval(()=>{n.isConnected||(clearInterval(r),t())},pn);s(()=>{clearInterval(r)})},gn=(n,e)=>{let t;return n!==void 0&&(t=window.setTimeout(()=>{const s=new Error(`Connection timed out after ${n}ms`);s.code=Ce.ConnectionTimeout,e(s)},n)),()=>{clearTimeout(t)}},vn=n=>{if(!n.src&&!n.srcdoc){const e=new Error("Iframe must have src or srcdoc property defined.");throw e.code=Ce.NoIframeSrc,e}},_n=n=>{let{iframe:e,methods:t={},childOrigin:s,timeout:r,debug:l=!1}=n;const i=Qt(l),o=Jt("Parent",i),{onDestroy:a,destroy:d}=o;s||(vn(e),s=tn(e.src));const p=s==="null"?"*":s,m=Dt(t),v=hn(i,m,s,p),f=dn(m,s,p,o,i);return{promise:new Promise((k,E)=>{const _=gn(r,d),c=g=>{if(!(g.source!==e.contentWindow||!g.data)){if(g.data.penpal===ee.Syn){v(g);return}if(g.data.penpal===ee.Ack){const I=f(g);I&&(_(),k(I));return}}};window.addEventListener(ce.Message,c),i("Parent: Awaiting handshake"),mn(e,o),a(g=>{window.removeEventListener(ce.Message,c),g&&E(g)})}),destroy(){d()}}};function ct(n){let e,t,s,r,l,i;return{c(){e=D("div"),t=U("svg"),s=U("rect"),r=U("path"),this.h()},l(o){e=R(o,"DIV",{});var a=b(e);t=H(a,"svg",{xmlns:!0,"enable-background":!0,viewBox:!0,fill:!0,class:!0});var d=b(t);s=H(d,"rect",{fill:!0,height:!0,width:!0}),b(s).forEach(h),r=H(d,"path",{d:!0}),b(r).forEach(h),d.forEach(h),a.forEach(h),this.h()},h(){u(s,"fill","none"),u(s,"height","24"),u(s,"width","24"),u(r,"d","M3,3v18h18V3H3z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12 L17,15.59z"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"enable-background","new 0 0 24 24"),u(t,"viewBox","0 0 24 24"),u(t,"fill","currentColor"),u(t,"class","svelte-1aeqlpf")},m(o,a){q(o,e,a),w(e,t),w(t,s),w(t,r),i=!0},i(o){i||(Ee(()=>{l||(l=ie(e,ae,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=ie(e,ae,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&h(e),o&&l&&l.end()}}}function ut(n){let e,t,s,r,l,i;return{c(){e=D("div"),t=U("svg"),s=U("path"),r=U("path"),this.h()},l(o){e=R(o,"DIV",{});var a=b(e);t=H(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=b(t);s=H(d,"path",{d:!0,fill:!0}),b(s).forEach(h),r=H(d,"path",{d:!0}),b(r).forEach(h),d.forEach(h),a.forEach(h),this.h()},h(){u(s,"d","M0 0h24v24H0z"),u(s,"fill","none"),u(r,"d","M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"viewBox","0 0 24 24"),u(t,"fill","currentColor"),u(t,"class","svelte-1aeqlpf")},m(o,a){q(o,e,a),w(e,t),w(t,s),w(t,r),i=!0},i(o){i||(Ee(()=>{l||(l=ie(e,ae,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=ie(e,ae,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&h(e),o&&l&&l.end()}}}function ft(n){let e,t,s,r,l,i;return{c(){e=D("div"),t=U("svg"),s=U("path"),r=U("path"),this.h()},l(o){e=R(o,"DIV",{});var a=b(e);t=H(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=b(t);s=H(d,"path",{d:!0,fill:!0}),b(s).forEach(h),r=H(d,"path",{d:!0}),b(r).forEach(h),d.forEach(h),a.forEach(h),this.h()},h(){u(s,"d","M0 0h24v24H0z"),u(s,"fill","none"),u(r,"d","M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"viewBox","0 0 24 24"),u(t,"fill","currentColor"),u(t,"class","svelte-1aeqlpf")},m(o,a){q(o,e,a),w(e,t),w(t,s),w(t,r),i=!0},i(o){i||(Ee(()=>{l||(l=ie(e,ae,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=ie(e,ae,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&h(e),o&&l&&l.end()}}}function dt(n){let e,t,s,r,l,i;return{c(){e=D("div"),t=U("svg"),s=U("path"),r=U("path"),this.h()},l(o){e=R(o,"DIV",{});var a=b(e);t=H(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=b(t);s=H(d,"path",{d:!0,fill:!0}),b(s).forEach(h),r=H(d,"path",{d:!0}),b(r).forEach(h),d.forEach(h),a.forEach(h),this.h()},h(){u(s,"d","M0 0h24v24H0V0z"),u(s,"fill","none"),u(r,"d","M18 14.49V9c0-1-1.01-2.01-2-2V3h-2v4h-4V3H8v2.48l9.51 9.5.49-.49zm-1.76 1.77L7.2 7.2l-.01.01L3.98 4 2.71 5.25l3.36 3.36C6.04 8.74 6 8.87 6 9v5.48L9.5 18v3h5v-3l.48-.48L19.45 22l1.26-1.28-4.47-4.46z"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"viewBox","0 0 24 24"),u(t,"fill","currentColor"),u(t,"class","svelte-1aeqlpf")},m(o,a){q(o,e,a),w(e,t),w(t,s),w(t,r),i=!0},i(o){i||(Ee(()=>{l||(l=ie(e,ae,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=ie(e,ae,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&h(e),o&&l&&l.end()}}}function wn(n){let e,t,s,r,l,i,o,a,d,p=n[0]==="close"&&ct(),m=n[0]==="launch"&&ut(),v=n[0]==="plug"&&ft(),f=n[0]==="unplug"&&dt();const y=n[3].default,k=_t(y,n,n[2],null);return{c(){e=D("button"),t=D("div"),p&&p.c(),s=B(),m&&m.c(),r=B(),v&&v.c(),l=B(),f&&f.c(),i=B(),k&&k.c(),this.h()},l(E){e=R(E,"BUTTON",{class:!0});var _=b(e);t=R(_,"DIV",{class:!0});var c=b(t);p&&p.l(c),s=F(c),m&&m.l(c),r=F(c),v&&v.l(c),l=F(c),f&&f.l(c),c.forEach(h),i=F(_),k&&k.l(_),_.forEach(h),this.h()},h(){u(t,"class","img-container svelte-1aeqlpf"),u(e,"class","svelte-1aeqlpf")},m(E,_){q(E,e,_),w(e,t),p&&p.m(t,null),w(t,s),m&&m.m(t,null),w(t,r),v&&v.m(t,null),w(t,l),f&&f.m(t,null),w(e,i),k&&k.m(e,null),o=!0,a||(d=[$(e,"keypress",n[4]),$(e,"click",n[5])],a=!0)},p(E,[_]){E[0]==="close"?p?_&1&&V(p,1):(p=ct(),p.c(),V(p,1),p.m(t,s)):p&&(de(),N(p,1,1,()=>{p=null}),he()),E[0]==="launch"?m?_&1&&V(m,1):(m=ut(),m.c(),V(m,1),m.m(t,r)):m&&(de(),N(m,1,1,()=>{m=null}),he()),E[0]==="plug"?v?_&1&&V(v,1):(v=ft(),v.c(),V(v,1),v.m(t,l)):v&&(de(),N(v,1,1,()=>{v=null}),he()),E[0]==="unplug"?f?_&1&&V(f,1):(f=dt(),f.c(),V(f,1),f.m(t,null)):f&&(de(),N(f,1,1,()=>{f=null}),he()),k&&k.p&&(!o||_&4)&&wt(k,y,E,E[2],o?Et(y,E[2],_,null):yt(E[2]),null)},i(E){o||(V(p),V(m),V(v),V(f),V(k,E),o=!0)},o(E){N(p),N(m),N(v),N(f),N(k,E),o=!1},d(E){E&&h(e),p&&p.d(),m&&m.d(),v&&v.d(),f&&f.d(),k&&k.d(E),a=!1,ze(d)}}}function yn(n,e,t){let{$$slots:s={},$$scope:r}=e,{icon:l}=e;const i=bt(),o=()=>i("click","detail value"),a=()=>i("click","detail value");return n.$$set=d=>{"icon"in d&&t(0,l=d.icon),"$$scope"in d&&t(2,r=d.$$scope)},[l,i,r,s,o,a]}class En extends be{constructor(e){super(),ke(this,e,yn,wn,Ie,{icon:0})}}const{window:bn}=Vt;function kn(n){let e,t=n[9].loading||!n[7]?"Loading...":"Load",s,r;return{c(){e=D("span"),s=ue(t),this.h()},l(l){e=R(l,"SPAN",{class:!0});var i=b(e);s=fe(i,t),i.forEach(h),this.h()},h(){var l;u(e,"class",r=((l=n[0])!=null&&l.address?" connected ":" disconnected ")+" hidden sm:flex svelte-1075m2j")},m(l,i){q(l,e,i),w(e,s)},p(l,i){var o;i&640&&t!==(t=l[9].loading||!l[7]?"Loading...":"Load")&&kt(s,t),i&1&&r!==(r=((o=l[0])!=null&&o.address?" connected ":" disconnected ")+" hidden sm:flex svelte-1075m2j")&&u(e,"class",r)},d(l){l&&h(e)}}}function In(n){let e,t,s,r,l,i,o,a,d,p,m,v,f,y,k,E,_,c,g,I,O,A,W,z;return l=new Ct({}),y=new En({props:{icon:n[10],$$slots:{default:[kn]},$$scope:{ctx:n}}}),y.$on("keypress",n[20]),y.$on("click",n[21]),{c(){e=D("div"),t=D("div"),s=D("a"),r=D("div"),ve(l.$$.fragment),i=B(),o=D("div"),a=D("input"),d=B(),p=D("span"),m=B(),v=D("div"),f=D("div"),ve(y.$$.fragment),_=B(),c=D("div"),g=D("iframe"),this.h()},l(L){e=R(L,"DIV",{class:!0});var P=b(e);t=R(P,"DIV",{class:!0,style:!0});var j=b(t);s=R(j,"A",{class:!0,href:!0,target:!0,rel:!0});var x=b(s);r=R(x,"DIV",{class:!0});var G=b(r);_e(l.$$.fragment,G),G.forEach(h),x.forEach(h),i=F(j),o=R(j,"DIV",{class:!0});var M=b(o);a=R(M,"INPUT",{class:!0,placeholder:!0}),d=F(M),p=R(M,"SPAN",{class:!0}),b(p).forEach(h),M.forEach(h),m=F(j),v=R(j,"DIV",{class:!0});var X=b(v);f=R(X,"DIV",{class:!0});var K=b(f);_e(y.$$.fragment,K),K.forEach(h),X.forEach(h),j.forEach(h),_=F(P),c=R(P,"DIV",{class:!0,style:!0});var ne=b(c);g=R(ne,"IFRAME",{title:!0,src:!0,allow:!0,class:!0}),b(g).forEach(h),ne.forEach(h),P.forEach(h),this.h()},h(){var L,P;u(r,"class","actions logo svelte-1075m2j"),u(s,"class","flex-0 hidden sm:flex svelte-1075m2j"),u(s,"href","https://PeerPiper.io"),u(s,"target","_blank"),u(s,"rel","noreferrer"),u(a,"class","url pl-0 p-[1em] pr-0 text-white bg-none border-none m-0 text-sm sm:text-base outline-none svelte-1075m2j"),u(a,"placeholder",Cn),u(p,"class","border-b-4 border-[#0eff02] flex-1 relative -top-2 svelte-1075m2j"),u(o,"class","flex-shrink flex flex-col w-full pl-2 svelte-1075m2j"),u(f,"class",k=xe((L=n[9])!=null&&L.loading?"action dim":(P=n[0])!=null&&P.address?" connected ":" disconnected ")+" svelte-1075m2j"),u(v,"class","flex svelte-1075m2j"),u(t,"class","flex flex-row space-between items-center svelte-1075m2j"),Pe(t,"--topOffsetHeight",n[2]),Ee(()=>n[22].call(t)),u(g,"title","Web Wallet"),Xe(g.src,I=n[7])||u(g,"src",I),u(g,"allow","clipboard-read 'self' 'src'; clipboard-write 'self' 'src';"),u(g,"class","svelte-1075m2j"),u(c,"class","iframe svelte-1075m2j"),Pe(c,"height","calc("+n[4]+"px + 18px)"),Ee(()=>n[24].call(c)),u(e,"class","flex flex-col m-2 max-w-full h-screen svelte-1075m2j")},m(L,P){q(L,e,P),w(e,t),w(t,s),w(s,r),we(l,r,null),w(t,i),w(t,o),w(o,a),Je(a,n[1]),w(o,d),w(o,p),w(t,m),w(t,v),w(v,f),we(y,f,null),E=Qe(t,n[22].bind(t)),w(e,_),w(e,c),w(c,g),n[23](g),O=Qe(c,n[24].bind(c)),A=!0,W||(z=[$(bn,"keydown",n[13]),$(a,"focus",n[17]),$(a,"blur",n[18]),$(a,"input",n[19])],W=!0)},p(L,[P]){var x,G;P&2&&a.value!==L[1]&&Je(a,L[1]);const j={};P&1024&&(j.icon=L[10]),P&536871553&&(j.$$scope={dirty:P,ctx:L}),y.$set(j),(!A||P&513&&k!==(k=xe((x=L[9])!=null&&x.loading?"action dim":(G=L[0])!=null&&G.address?" connected ":" disconnected ")+" svelte-1075m2j"))&&u(f,"class",k),(!A||P&4)&&Pe(t,"--topOffsetHeight",L[2]),(!A||P&128&&!Xe(g.src,I=L[7]))&&u(g,"src",I),(!A||P&16)&&Pe(c,"height","calc("+L[4]+"px + 18px)")},i(L){A||(V(l.$$.fragment,L),V(y.$$.fragment,L),A=!0)},o(L){N(l.$$.fragment,L),N(y.$$.fragment,L),A=!1},d(L){L&&h(e),ye(l),ye(y),E(),n[23](null),O(),W=!1,ze(z)}}}let Cn="Enter Wallet Url";function Ln(n,e,t){let s,{wallet:r=null}=e,{inputUrl:l="https://peerpiper.github.io/iframe-wallet-sdk/"}=e,{topOffsetHeight:i=0}=e,{topOffsetWidth:o=0}=e,{iframeParentHeight:a=0}=e,{iframeParentWidth:d=0}=e,p,{show:m}=e,{hide:v}=e;const f=bt();let y,k,E;const _={loading:!0};Ae(async()=>{g()});async function c(){t(9,_.loading=!1,_);let M;M=await _n({iframe:k,methods:{setIframeParentHeight(K){t(4,a=K)},setIframeParentWidth(K){t(14,d=K)},show(){m()},hide(){console.log("hiding",{hide:v}),v()},walletReady(){return t(0,r=M),f("walletReady",{wallet:r}),window.arweaveWallet=r.arweaveWalletAPI,r&&setTimeout(()=>{v()},250),!0}}}).promise,m()}const g=()=>{y!==l&&(t(7,y=""),t(7,y=l),t(9,_.loading=!0,_),f("inputUrl",l))},I=()=>r.disconnect();function O(M){M.key==="Enter"&&E&&g()}const A=()=>t(8,E=!0),W=()=>t(8,E=!1);function z(){l=this.value,t(1,l)}const L=()=>{r!=null&&r.address?I():g()},P=()=>{r!=null&&r.address?I():g()};function j(){i=this.offsetHeight,o=this.offsetWidth,t(2,i),t(3,o)}function x(M){It[M?"unshift":"push"](()=>{k=M,t(6,k)})}function G(){p=this.offsetWidth,t(5,p)}return n.$$set=M=>{"wallet"in M&&t(0,r=M.wallet),"inputUrl"in M&&t(1,l=M.inputUrl),"topOffsetHeight"in M&&t(2,i=M.topOffsetHeight),"topOffsetWidth"in M&&t(3,o=M.topOffsetWidth),"iframeParentHeight"in M&&t(4,a=M.iframeParentHeight),"iframeParentWidth"in M&&t(14,d=M.iframeParentWidth),"show"in M&&t(15,m=M.show),"hide"in M&&t(16,v=M.hide)},n.$$.update=()=>{n.$$.dirty&64&&k&&k.addEventListener("load",c),n.$$.dirty&1&&r!=null&&r.keepPopup,n.$$.dirty&1&&t(10,s=r!=null&&r.address?"unplug":"plug"),n.$$.dirty&33&&p&&r&&(r==null||r.setWidth(p))},[r,l,i,o,a,p,k,y,E,_,s,g,I,O,d,m,v,A,W,z,L,P,j,x,G]}class Mn extends be{constructor(e){super(),ke(this,e,Ln,In,Ie,{wallet:0,inputUrl:1,topOffsetHeight:2,topOffsetWidth:3,iframeParentHeight:4,iframeParentWidth:14,show:15,hide:16})}}function ht(n){let e,t;return e=new Xt({props:{inputUrl:n[1],$$slots:{default:[Dn,({openNav:s,hideNav:r,saveInputURL:l,url:i})=>({5:s,6:r,7:l,8:i}),({openNav:s,hideNav:r,saveInputURL:l,url:i})=>(s?32:0)|(r?64:0)|(l?128:0)|(i?256:0)]},$$scope:{ctx:n}}}),{c(){ve(e.$$.fragment)},l(s){_e(e.$$.fragment,s)},m(s,r){we(e,s,r),t=!0},p(s,r){const l={};r&2&&(l.inputUrl=s[1]),r&993&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function Dn(n){let e,t,s;function r(i){n[3](i)}let l={show:n[5],hide:n[6],inputUrl:n[8]};return n[0]!==void 0&&(l.wallet=n[0]),e=new Mn({props:l}),It.push(()=>At(e,"wallet",r)),e.$on("walletReady",n[4]),e.$on("inputUrl",function(){Ut(n[7])&&n[7].apply(this,arguments)}),{c(){ve(e.$$.fragment)},l(i){_e(e.$$.fragment,i)},m(i,o){we(e,i,o),s=!0},p(i,o){n=i;const a={};o&32&&(a.show=n[5]),o&64&&(a.hide=n[6]),o&256&&(a.inputUrl=n[8]),!t&&o&1&&(t=!0,a.wallet=n[0],Ht(()=>t=!1)),e.$set(a)},i(i){s||(V(e.$$.fragment,i),s=!0)},o(i){N(e.$$.fragment,i),s=!1},d(i){ye(e,i)}}}function Rn(n){let e,t,s=n[2]&&ht(n);return{c(){e=D("section"),s&&s.c(),this.h()},l(r){e=R(r,"SECTION",{class:!0});var l=b(e);s&&s.l(l),l.forEach(h),this.h()},h(){u(e,"class","m-0 svelte-sfvraj")},m(r,l){q(r,e,l),s&&s.m(e,null),t=!0},p(r,[l]){r[2]?s?(s.p(r,l),l&4&&V(s,1)):(s=ht(r),s.c(),V(s,1),s.m(e,null)):s&&(de(),N(s,1,1,()=>{s=null}),he())},i(r){t||(V(s),t=!0)},o(r){N(s),t=!1},d(r){r&&h(e),s&&s.d()}}}function Pn(n,e,t){let{inputUrl:s=null}=e,{wallet:r=null}=e,l;Ae(()=>{t(2,l=!0)});function i(a){r=a,t(0,r)}function o(a){Wt.call(this,n,a)}return n.$$set=a=>{"inputUrl"in a&&t(1,s=a.inputUrl),"wallet"in a&&t(0,r=a.wallet)},[r,s,l,i,o]}class Sn extends be{constructor(e){super(),ke(this,e,Pn,Rn,Ie,{inputUrl:1,wallet:0})}}function pt(n){let e,t;return e=new Sn({}),e.$on("walletReady",n[3]),{c(){ve(e.$$.fragment)},l(s){_e(e.$$.fragment,s)},m(s,r){we(e,s,r),t=!0},p:Se,i(s){t||(V(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){ye(e,s)}}}function Vn(n){let e,t,s,r,l,i,o,a,d,p,m,v,f,y,k,E,_,c=n[1]&&pt(n);return{c(){e=D("div"),t=D("h1"),s=ue("Welcome to Web3 Wallet Connector"),r=B(),l=D("div"),i=ue(`To get started,
		`),o=D("ul"),a=D("li"),d=ue(`create a wallet variable which will give you access to the RPC wallet calls (such as sign,
				encrypt, etc.)`),p=B(),m=D("li"),v=ue("pass in a starting url for the RPC wallet in the iframe"),f=B(),c&&c.c(),y=ue(`
	Signature:
	`),k=D("div"),E=ue(n[2]),this.h()},l(g){e=R(g,"DIV",{class:!0,id:!0});var I=b(e);t=R(I,"H1",{});var O=b(t);s=fe(O,"Welcome to Web3 Wallet Connector"),O.forEach(h),r=F(I),l=R(I,"DIV",{});var A=b(l);i=fe(A,`To get started,
		`),o=R(A,"UL",{});var W=b(o);a=R(W,"LI",{});var z=b(a);d=fe(z,`create a wallet variable which will give you access to the RPC wallet calls (such as sign,
				encrypt, etc.)`),z.forEach(h),p=F(W),m=R(W,"LI",{});var L=b(m);v=fe(L,"pass in a starting url for the RPC wallet in the iframe"),L.forEach(h),W.forEach(h),A.forEach(h),f=F(I),c&&c.l(I),y=fe(I,`
	Signature:
	`),k=R(I,"DIV",{class:!0});var P=b(k);E=fe(P,n[2]),P.forEach(h),I.forEach(h),this.h()},h(){u(k,"class","max-w-screen break-all"),u(e,"class","app"),u(e,"id","app")},m(g,I){q(g,e,I),w(e,t),w(t,s),w(e,r),w(e,l),w(l,i),w(l,o),w(o,a),w(a,d),w(o,p),w(o,m),w(m,v),w(e,f),c&&c.m(e,null),w(e,y),w(e,k),w(k,E),_=!0},p(g,[I]){g[1]?c?(c.p(g,I),I&2&&V(c,1)):(c=pt(g),c.c(),V(c,1),c.m(e,y)):c&&(de(),N(c,1,1,()=>{c=null}),he()),(!_||I&4)&&kt(E,g[2])},i(g){_||(V(c),_=!0)},o(g){N(c),_=!1},d(g){g&&h(e),c&&c.d()}}}function An(n,e,t){let s,r,l;Ae(()=>{t(1,r=!0)});const i=o=>{t(0,s=o.detail.wallet)};return n.$$.update=()=>{n.$$.dirty&1&&s&&s.ed25519.sign({someData:"some data"}).then(o=>{console.log("Signature from Wallet:",o),t(2,l=o)})},[s,r,l,i]}class Wn extends be{constructor(e){super(),ke(this,e,An,Vn,Ie,{})}}export{Wn as default};
//# sourceMappingURL=_page.svelte-d6d5b187.js.map
